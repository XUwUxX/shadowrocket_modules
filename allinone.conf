# Shadowrocket: 2025-05-30 11:53:22
#!name=Unlock ALL APP + Youtube AdBlock + PiP (Pro Edition)
#!desc=AnhzTuan | Block ads Youtube + Unlock App Premium + Picture-in-Picture + System AdBlock
#!arguments=captionLang:off, lyricLang:off, blockUpload:true, blockImmersive:false, blockShorts:true, debug:false

[General]
bypass-system = true
skip-proxy = *.local, *.crashlytics.com
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
update-url = https://raw.githubusercontent.com/XUwUxX/shadowrocket_modules/refs/heads/main/allinone.conf
update-interval = 86400

[Rule]
AND,((DOMAIN-SUFFIX,googlevideo.com), (PROTOCOL,UDP)),REJECT
AND,((DOMAIN,youtubei.googleapis.com), (PROTOCOL,UDP)),REJECT

# System Ads Block
DOMAIN-SUFFIX,googletagmanager.com,REJECT
DOMAIN-SUFFIX,app-measurement.com,REJECT
DOMAIN-SUFFIX,adjust.com,REJECT
DOMAIN-SUFFIX,facebook.net,REJECT
DOMAIN-SUFFIX,tiktokv.com,REJECT
DOMAIN-SUFFIX,tiktokcdn.com,REJECT
DOMAIN-SUFFIX,log.byteoversea.com,REJECT

[URL Rewrite]
# ===== YouTube Ads =====
(^https?://[\w-]+\.googlevideo\.com/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+) $1$2$3 302
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad _ reject-200
^https?:\/\/(www|s)\.youtube\.com/api/stats/ads _ reject-200
^https?:\/\/(www|s)\.youtube\.com/(pagead|ptracking) _ reject-200
^https?:\/\/s\.youtube\.com/api/stats/qoe\?adcontext _ reject-200
https?:\/\/.+\.googlevideo\.com\/.+&oad reject HEADER
https?:\/\/.+\.googlevideo\.com\/ptracking\?pltype=adhost reject header
https?:\/\/.+\.youtube\.com\/api\/stats\/.+adformat reject header
https?:\/\/.+\.youtube\.com\/api\/stats\/ads reject header
https?:\/\/.+\.youtube\.com\/get_midroll reject header
https?:\/\/.+\.youtube\.com\/pagead\/ reject header
https?:\/\/.+\.youtube\.com\/ptracking\? reject header
https?:\/\/m\.youtube\.com\/_get_ads reject header
https?:\/\/s\.youtube\.com\/api\/stats\/watchtime?adformat reject header
https?:\/\/youtubei\.googleapis\.com\/.+ad_break reject header
^https?:\/\/i\.ytimg\.com\/sbscore\/ad_* reject

# TikTok / FB / IG Ads
^https?:\/\/api\.tiktokv\.com\/.+\/ads _ reject-200
^https?:\/\/graph\.facebook\.com\/v\d+\.\d+\/(ads|sponsored) _ reject-200
^https?:\/\/i\.instagram\.com\/api\/v\d+\/feed\/reels_media\/ads _ reject-200

[Map Local]
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad data-type=text data="" status-code=200

[Script]
# ===== YouTube AdBlock + PiP =====
youtube.response = type=http-response,pattern=^https:\/\/youtubei\.googleapis\.com\/(youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch))(\?(.*))?$,requires-body=1,max-size=-1,binary-body-mode=1,script-path=https://raw.githubusercontent.com/Maasea/sgmodule/master/Script/Youtube/youtube.response.js,argument="{"lyricLang":"{{{lyricLang}}}","captionLang":"{{{captionLang}}}","blockUpload":"{{{blockUpload}}}","blockImmersive":"{{{blockImmersive}}}","blockShorts":"{{{blockShorts}}}","debug":"{{{debug}}}"}"

# ===== Các script unlock app =====
revenuecat = type=http-response, pattern=^https:\/\/api\.revenuecat\.com\/.+\/(receipts$|subscribers\/[^/]+$), script-path=https://raw.githubusercontent.com/XUwUxX/shadowrocket_modules/refs/heads/main/scripts/Locket_Gold.js, requires-body=true, max-size=-1, timeout=60
deleteHeader = type=http-request, pattern=^https:\/\/api\.revenuecat\.com\/.+\/(receipts|subscribers), script-path=https://htpn.vn/module/delete_header.js, timeout=60
http-response ^https://api\.revenuecat\.com/.+/(receipts$|subscribers/[^/]+$) script-path=https://htpn.vn/module/crack.js, requires-body=true, timeout=5, tag=Crack
http-request ^https://api.revenuecat.com/.+/(receipts$|subscribers/?(.*?)*$) script-path=https://htpn.vn/module/VSCO.js, requires-body=true, timeout=5, tag=VSCO
http-request https://api.picsart.com/gw-v2/shop/subscription/apple/purchases script-path=https://htpn.vn/module/PicsArt.js, requires-body=true, timeout=5, tag=PicsArt
http-response https://us-central1-alight-creative.cloudfunctions.net/getAccountStatusAndLicenses script-path=https://htpn.vn/module/AlightMotion.js, requires-body=true, timeout=5, tag=Alight Motion
http-response https://api.sandbox.love/accounts/current script-path=https://htpn.vn/module/SandBox.js, requires-body=true, timeout=5, tag=Sandbox Pixel Art
http-request ^https:\/\/spclient\.wg\.spotify\.com\/(artistview\/v1\/artist|album-entity-view\/v2\/album)\/ script-path=https://htpn.vn/module/spotify-json.js, timeout=10, tag=spotifyJson
http-response ^https:\/\/spclient\.wg\.spotify\.com\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$ script-path=https://htpn.vn/module/spotify-proto.js, requires-body=true, binary-body-mode=true, timeout=10, tag=spotifyProto
WinkForeverVipCrack.js = type=http-response,pattern=^https?:\/\/api-sub\.meitu\.com\/v2\/user\/vip_info_by_group\.json,requires-body=1,script-path=https://htpn.vn/module/WinkForeverVipCrack.js
SoundCloudGo+ = type=http-response,pattern=https://api-mobile.soundcloud.com/configuration/ios,requires-body=1,script-path=https://htpn.vn/module/soundcloud.js
LightRoom = type=http-response,pattern=^https:\/\/photos\.adobe\.io\/v2\/accounts*,requires-body=1,script-path=https://htpn.vn/module/lightroom.js
deepfaker = type=http-response,pattern=^https:\/\/api\.deepfaker\.app\/api\/v1\/account\/update-profile,requires-body=1,script-path=https://htpn.vn/module/deepfaker.js
Piccollage_Unlock = type=http-response,pattern=https://piccollage.com/api/graphql,requires-body=1,script-path=https://htpn.vn/module/picCollage.js
AlohaVPN = type=http-response,pattern=https://api.alohaprofile.com/v1/profile_info,requires-body=1,script-path=https://htpn.vn/module/aloha.js
iScreenn = type=http-response,pattern=^https:\/\/buy\.itunes\.apple\.com\/verifyReceipt$,requires-body=1,script-path=https://htpn.vn/module/iScreenn.js
Usage = type=http-response,pattern=^https:\/\/api\.revenuecat\.com\/v1\/subscribers.+,requires-body=1,script-path=https://htpn.vn/module/Usage.js
MeituPic = type=http-response,pattern=^https?:\/\/(h5|api)\.xiuxiu\.meitu\.com\/v\d\/(h\d\/vip|vip|user)\/,requires-body=1,script-path=https://htpn.vn/module/MeiTuXiuXiu.js

# ===== Unlock thêm =====
CapCut = type=http-response,pattern=^https:\/\/api\.capcut\.com\/.+\/subscription,requires-body=1,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/capcut.js
Canva = type=http-response,pattern=^https:\/\/api\.canva\.com\/.+\/subscription,requires-body=1,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/canva.js
Notability = type=http-response,pattern=^https:\/\/notability\.com\/.+\/receipt,requires-body=1,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/notability.js
GoodNotes = type=http-response,pattern=^https:\/\/goodnotesapi\.com\/.+\/subscription,requires-body=1,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/goodnotes.js

[MITM]
ca-passphrase = Shadowrocket
enable = true
ca-p12 = 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
hostname = %APPEND% api.revenuecat.com, buy.itunes.apple.com, api.picsart.com, us-central1-alight-creative.cloudfunctions.net, api.adapty.io, carrotweather.herokuapp.com, order.creativeappnow.com, api.mwm-users.com, us-central1-muslim-pro-app.cloudfunctions.net, api.gptkeyboard.app, prod.studysmarter.de, api.qonversion.io, api.blinkist.com, subscription.grammarly.com, api.esound.app, api.purchasely.io, spclient.wg.spotify.com, api-sub.meitu.com, redirector*.googlevideo.com, *.googlevideo.com, www.youtube.com, s.youtube.com, youtubei.googleapis.com, api-mobile.soundcloud.com, photos.adobe.io, api.deepfaker.app, purchases.ws.pho.to, pro.smallpdf.com, api.alohaprofile.com, piccollage.com, h5.xiuxiu.meitu.com, api.xiuxiu.meitu.com 
